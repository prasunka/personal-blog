<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PBytes | GSoC'20 progress : Phase I</title>
  <meta name="description" content="Wrapping up the first phase of Google Summer of Code">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="GSoC&#39;20 progress : Phase I">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://prasunka.github.io/posts/gsoc2020-wrapping-phase-1">
  <meta property="og:description" content="Wrapping up the first phase of Google Summer of Code">
  <meta property="og:site_name" content="PBytes">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://prasunka.github.io/posts/gsoc2020-wrapping-phase-1">
  <meta name="twitter:title" content="GSoC&#39;20 progress : Phase I">
  <meta name="twitter:description" content="Wrapping up the first phase of Google Summer of Code">

  
    <meta property="og:image" content="http://prasunka.github.io/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
    <meta name="twitter:image" content="http://prasunka.github.io/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
  

  <link href="http://prasunka.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="PBytes Last 10 blog posts" />

  

  

    
      <link rel="icon" type="image/x-icon" href="/assets/favicon-92c496ca24aae9e64ca0b4505a39a0b8267a63c9992fe307ff5047aca4e8b720.ico">
      <link rel="apple-touch-icon" href="/assets/apple-touch-icon-dark-d161409442b7e523089f24d08d0a55951549ece7504207c376d53b020713494d.png">
      <link rel="stylesheet" type="text/css" title="light" id="light" href="/assets/light-fcb7a108ad86f7ba6e488841f0a6dfc46758d026e79cfa24fd59bb0be52e96f8.css">
      <link rel="stylesheet" type="text/css" title="dark" id="dark" href="/assets/dark-9e48b67b0791dd42634fc1806ebcfe4a6f9740554bbcdf992e21bd0fdbd5395d.css" disabled="false">
    

  

</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav ">
  <a href="/" class="header-logo" title="PBytes">PBytes</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="https://twitter.com/_prasunkr_" rel="noreferrer noopener" target="_blank" title="Twitter">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://github.com/prasunka" rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="mailto:prasun.code@gmail.com" title="Email">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" rel="noreferrer noopener" target="_blank" title="RSS">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-rss">
  <use href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss" xlink:href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a onclick="toggle()" title="Toggle Theme">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-theme">
  <use href="/assets/theme-66869e0bf8dab34bae1c86bda400327b772e0be69e8dc28d3ede896e771320ed.svg#icon-theme" xlink:href="/assets/theme-66869e0bf8dab34bae1c86bda400327b772e0be69e8dc28d3ede896e771320ed.svg#icon-theme"></use>
</svg>

        </a>
      </li>
    
  </ul>
</nav>



        <article class="article ">
          <header class="article-header">
            <h1>GSoC'20 progress : Phase I</h1>
            <p>Wrapping up the first phase of Google Summer of Code</p>
            <div class="article-list-footer">
  <span class="article-list-date">
    July 6, 2020
  </span>
  <span class="article-list-divider">-</span>
  <span class="article-list-minutes">
    
    
      3 minute read
    
  </span>
  <span class="article-list-divider">-</span>
  <div class="article-list-tags">
    
      
      <a href="/tag/gsoc" title="See all posts with tag 'GSoC 2020'">GSoC 2020</a>
    
      
      <a href="/tag/kde" title="See all posts with tag 'KDE'">KDE</a>
    
  </div>
</div>
          </header>

          <div class="article-content">
            <h2 id="gsoc-2020-with-kde">GSoC 2020 with KDE</h2>

<p>Greetings Reader,</p>

<p>Much to my delight, the first phase of my project for GSoC has completed successully.
All the goals according to my proposal timeline for the first month have been met and
I’m pleased to say that I have passed my first evaluation.</p>

<p><a href="/assets/passed-dabd5448ec55d36997823283d7b0cce07c767fd8e6262db9f6ed6931c52e7924.png">
  <img src="/assets/passed-dabd5448ec55d36997823283d7b0cce07c767fd8e6262db9f6ed6931c52e7924.png" alt=":)" class="zooming" data-rjs="/assets/passed-dabd5448ec55d36997823283d7b0cce07c767fd8e6262db9f6ed6931c52e7924.png" data-zooming-width="764" data-zooming-height="361">
</a></p>

<p><em>The official email from Google</em></p>

<p>Hoping for similar results for the next two evaluations :)</p>

<p>So, what happened in Week 4? Here is a quick overview.</p>

<h3 id="week-4">Week 4</h3>

<p>In my project proposal timeline, I have kept this week (which is the last week before
the first evaluation) with lesser work than the rest. I was wary of the fact that some
unforseeable problems may creep up during the project and to account for that I had kept
some time reserved. Fortunately, no such problem showed up and my work proceeded as planned.</p>

<p>So, the major tasks this week were to rewrite and enable the <strong>benchmark</strong> tool and ensure that it
works as a CTest and to make some changes to the <strong>ktoblzcheck</strong> command-line tool to allow the
support of user-supplied bankdata which had become incompatible due to my previous work.</p>

<p>The command line tool was not much work. It just needed to take the argument from the user,
do some error-checking and call the appropriate constructor. Although to make the checking part easier,
I included a method in the public API to help in future.</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="c1">// Returns true if dbname exists and is a valid SQLite file</span>
<span class="kt">bool</span> <span class="n">AccountNumberCheck</span><span class="o">::</span><span class="n">validSQLite</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">filename</span><span class="p">){</span>
    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
    <span class="n">std</span><span class="o">::</span><span class="n">ifstream</span> <span class="n">db</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">in</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">db</span><span class="p">){</span>
        <span class="n">db</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">db</span><span class="p">.</span><span class="n">end</span><span class="p">);</span>
        <span class="kt">long</span> <span class="n">length</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">tellg</span><span class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="n">length</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">db</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">db</span><span class="p">.</span><span class="n">beg</span><span class="p">);</span>
        <span class="n">db</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="n">starts_with</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="s">"SQLite format 3"</span><span class="p">))</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>This is a mere translation of a similar function in <strong>update-database.py</strong>.</p>

<p>The <strong>benchmark</strong> tool required an almost rewrite. The existing code dealt solely with
text file reading, thus had to be replaced.
The current benchmarking uses the two functions that were in the existing tool.</p>

<p>The first function, check_bankData_lookup, generates given number of <strong>blz</strong> and checks them
using the <strong>AccountNumberCheck::findBank</strong> method.</p>

<p>The second function, check_testkontos, takes a file as a parameter and for <strong>blz</strong> in
each row in this file, it generates a random <strong>kto</strong> and checks the two using <strong>AccountNumberCheck::check</strong>
method.</p>

<p>After pushing these changes, my mentor Ralf suggested to add a --file argument to this tool so as
to use this tool with any specified bankdata file.
Thus, to handle command-line arguments, I made some further changes using the code from an existing tool
in the project.</p>

<p>You can see my commits here : <a href="https://sourceforge.net/u/prasun/ktoblzcheck-gsoc2020/commit_browser" title="Commit Browser" rel="noreferrer noopener" target="_blank">Commit Browser</a></p>

<p>As outlined in the previous post, all the objectives of this phase are completed.</p>

<ul>
  <li>A script that generates the SQLite DB using blz datafile downloaded from the  <a href="https://www.bundesbank.de/de/aufgaben/unbarer-zahlungsverkehr/serviceangebot/bankleitzahlen/download-bankleitzahlen-602592" title="Deutsche Bundesbank" rel="noreferrer noopener" target="_blank">Deutsche Bundesbank</a> <img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20">
</li>
  <li>Modifications in the CMake build system to call this script at build time. <img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20">
</li>
  <li>Replacing the part of code that uses the text datafile with the code that reads from this database. <img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20">
</li>
  <li>Updating tests, documentations and benchmark to work with the new database. <img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20">
</li>
  <li>Modifying the command-line tool to enable support for user-supplied database. <img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20">
</li>
</ul>

<p>So, this marks the end of the first phase of the project.
Truly, a remarkable experience.</p>

<p>Learnt so much, still much remains unknown.
Hoping to discover more new stuff.</p>

<p>See you in the next post.</p>

<p><img class="emoji" title=":wave:" alt=":wave:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44b.png" height="20" width="20"><br>
Prasun.</p>

          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=GSoC'20+progress+:+Phase+I%20-%20http://prasunka.github.io/posts/gsoc2020-wrapping-phase-1%20by%20@_prasunkr_" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewbox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"></path></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://prasunka.github.io/posts/gsoc2020-wrapping-phase-1" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewbox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"></path></svg>
            </a>
          </div>

          
        </article>
        <footer class="footer ">
  <p>
    © 2020 Prasun Kumar    |   Powered by <a href="https://github.com/nielsenramon/chalk" rel="noreferrer noopener" target="_blank" title="Chalk">Chalk</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-170264271-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-170264271-1');
  </script>


<script src="/assets/vendor-130c9c254effc51f3283620bc635851da7b99c20901216948f11ba72ee13317f.js" type="text/javascript"></script>


  <script src="/assets/webfonts-96493456d319d1bf419afdf8701552d4d486fee6afd304897d4fd81eb4e0cc0b.js" type="text/javascript"></script>




<script src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js" type="text/javascript"></script>


  <script src="/assets/themetoggle-df0d3d73164dc26dffbd630182ae4d0dfa7bee6b694a2b5d565d73595b582bbf.js" type="text/javascript"></script>

</body>
</html>
